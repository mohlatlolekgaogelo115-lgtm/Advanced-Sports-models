<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StratosPredict V5 - L6 Rolling Analytics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #020617; color: #f8fafc; }
        .glass { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.1); }
        .neon-accent { border-left: 4px solid #10b981; box-shadow: -5px 0 15px rgba(16, 185, 129, 0.1); }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
    </style>
</head>
<body class="antialiased" x-data="predictionEngine()">

    <nav class="border-b border-slate-800 p-4 sticky top-0 bg-[#020617]/95 backdrop-blur-md z-50">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center font-black text-slate-900">S</div>
                <div class="text-xl font-extrabold text-white tracking-tighter">STRATOS<span class="text-emerald-500">PRO</span></div>
            </div>
            <div class="flex items-center gap-4">
                <div class="hidden md:block text-[10px] font-mono text-emerald-500 bg-emerald-500/10 px-3 py-1 rounded-full border border-emerald-500/20">
                    L6 DATA REQUIREMENT: <span x-text="sampleReady ? 'VALIDATED' : 'PENDING'" :class="sampleReady ? 'text-emerald-400' : 'text-amber-400'"></span>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto p-4 lg:p-8">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            
            <section class="lg:col-span-5 space-y-6">
                <div class="glass p-6 rounded-3xl">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-sm font-bold uppercase tracking-widest text-slate-400">Pre-Match Data (Last 6 Games)</h2>
                        <span class="text-[10px] bg-slate-800 px-2 py-1 rounded text-slate-400">MIN SAMPLE: 6</span>
                    </div>
                    
                    <div class="space-y-6">
                        <div class="grid grid-cols-2 gap-4">
                            <div class="space-y-2">
                                <label class="text-[10px] font-bold text-emerald-400 uppercase">Home Crosses (Avg/6)</label>
                                <input type="number" x-model="homeCrosses" class="w-full bg-slate-900 border border-slate-700 rounded-xl p-3 focus:border-emerald-500 outline-none transition-all">
                            </div>
                            <div class="space-y-2">
                                <label class="text-[10px] font-bold text-blue-400 uppercase">Away Crosses (Avg/6)</label>
                                <input type="number" x-model="awayCrosses" class="w-full bg-slate-900 border border-slate-700 rounded-xl p-3 focus:border-blue-500 outline-none transition-all">
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div class="space-y-2">
                                <label class="text-[10px] font-bold text-slate-400 uppercase">Home Blocked Shots/6</label>
                                <input type="number" x-model="homeBlocks" class="w-full bg-slate-900 border border-slate-700 rounded-xl p-3">
                            </div>
                            <div class="space-y-2">
                                <label class="text-[10px] font-bold text-slate-400 uppercase">Away Blocked Shots/6</label>
                                <input type="number" x-model="awayBlocks" class="w-full bg-slate-900 border border-slate-700 rounded-xl p-3">
                            </div>
                        </div>

                        <hr class="border-slate-800">

                        <div class="grid grid-cols-3 gap-3">
                            <div class="space-y-1">
                                <label class="text-[9px] text-slate-500 uppercase font-bold">Weather</label>
                                <select x-model="weather" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-xs">
                                    <option value="1">Clear/Dry</option>
                                    <option value="1.15">Light Rain</option>
                                    <option value="1.28">Heavy Rain/Wind</option>
                                </select>
                            </div>
                            <div class="space-y-1">
                                <label class="text-[9px] text-slate-500 uppercase font-bold">L6 Morale</label>
                                <select x-model="morale" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-xs">
                                    <option value="0.9">Trending Down</option>
                                    <option value="1">Stable</option>
                                    <option value="1.15">Winning Streak</option>
                                </select>
                            </div>
                            <div class="space-y-1">
                                <label class="text-[9px] text-slate-500 uppercase font-bold">Critical Injury</label>
                                <select x-model="injury" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-xs">
                                    <option value="1">None</option>
                                    <option value="0.8">Key Winger Out</option>
                                    <option value="1.2">Key CB Out</option>
                                </select>
                            </div>
                        </div>

                        <button @click="calculate()" 
                                :disabled="!sampleReady"
                                :class="sampleReady ? 'bg-emerald-600 hover:bg-emerald-500' : 'bg-slate-800 cursor-not-allowed text-slate-500'"
                                class="w-full text-white font-bold py-4 rounded-2xl transition-all uppercase tracking-tighter flex items-center justify-center gap-2">
                            <span x-show="sampleReady">Generate Precise Prediction</span>
                            <span x-show="!sampleReady">Enter All Stats (L6)</span>
                        </button>
                    </div>
                </div>
            </section>

            <section class="lg:col-span-7 space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="glass p-5 rounded-3xl neon-accent">
                        <p class="text-[10px] text-slate-500 uppercase font-bold">Total Corners</p>
                        <p class="text-4xl font-black text-white mt-1" x-text="results.totalCorners || '--'"></p>
                    </div>
                    <div class="glass p-5 rounded-3xl border-l-4 border-blue-500">
                        <p class="text-[10px] text-slate-500 uppercase font-bold">1H Corner Hcp</p>
                        <p class="text-2xl font-black text-white mt-1" x-text="results.fhHandicap || '--'"></p>
                    </div>
                    <div class="glass p-5 rounded-3xl border-l-4 border-purple-500">
                        <p class="text-[10px] text-slate-500 uppercase font-bold">1H 1X2 Corners</p>
                        <p class="text-2xl font-black text-white mt-1" x-text="results.fh1X2 || '--'"></p>
                    </div>
                </div>

                <div class="glass p-8 rounded-[2rem] relative overflow-hidden">
                    <div class="relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12">
                        <div>
                            <h3 class="text-xs font-bold text-slate-500 uppercase tracking-[0.2em] mb-6">Goal Markets</h3>
                            <div class="space-y-6">
                                <div>
                                    <div class="flex justify-between text-sm mb-2">
                                        <span class="font-semibold text-slate-300">Over 2.5 Goals</span>
                                        <span class="text-emerald-400 font-bold" x-text="results.over25Prob + '%'"></span>
                                    </div>
                                    <div class="w-full bg-slate-800 h-2 rounded-full overflow-hidden">
                                        <div class="bg-emerald-500 h-full transition-all duration-1000" :style="`width: ${results.over25Prob}%`"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-sm mb-2">
                                        <span class="font-semibold text-slate-300">BTTS (Both Teams To Score)</span>
                                        <span class="text-blue-400 font-bold" x-text="results.bttsProb + '%'"></span>
                                    </div>
                                    <div class="w-full bg-slate-800 h-2 rounded-full overflow-hidden">
                                        <div class="bg-blue-500 h-full transition-all duration-1000" :style="`width: ${results.bttsProb}%`"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-xs font-bold text-slate-500 uppercase tracking-[0.2em] mb-6">1st Half Total Corners</h3>
                            <div class="flex items-end gap-2">
                                <span class="text-5xl font-black text-white" x-text="results.fhTotal || '--'"></span>
                                <span class="text-slate-500 pb-2 text-sm font-bold">AVG EXPECTED</span>
                            </div>
                            <div class="mt-4 p-4 bg-slate-900/50 rounded-2xl border border-slate-800">
                                <p class="text-[10px] text-slate-400 leading-relaxed uppercase">
                                    Prediction based on high-intensity early pressure coefficients from L6 data.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="glass p-6 rounded-3xl">
                    <table class="w-full text-left">
                        <thead>
                            <tr class="text-[10px] text-slate-500 uppercase border-b border-slate-800">
                                <th class="pb-4">Logic Factor</th>
                                <th class="pb-4">Home (L6)</th>
                                <th class="pb-4">Away (L6)</th>
                                <th class="pb-4">System Weight</th>
                            </tr>
                        </thead>
                        <tbody class="text-sm">
                            <tr class="border-b border-slate-800/50">
                                <td class="py-4 text-slate-400 italic">Crossing Friction</td>
                                <td class="py-4 font-bold" x-text="homeCrosses"></td>
                                <td class="py-4 font-bold" x-text="awayCrosses"></td>
                                <td class="py-4 text-emerald-500 font-bold">32.5%</td>
                            </tr>
                            <tr>
                                <td class="py-4 text-slate-400 italic">Corner Conv. Rate</td>
                                <td class="py-4 font-bold" x-text="(homeCrosses * 0.22).toFixed(1)"></td>
                                <td class="py-4 font-bold" x-text="(awayCrosses * 0.22).toFixed(1)"></td>
                                <td class="py-4 text-emerald-500 font-bold">18.0%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </main>

    <script>
        function predictionEngine() {
            return {
                homeCrosses: null,
                awayCrosses: null,
                homeBlocks: null,
                awayBlocks: null,
                weather: 1,
                morale: 1,
                injury: 1,
                results: {},

                get sampleReady() {
                    return this.homeCrosses && this.awayCrosses && this.homeBlocks && this.awayBlocks;
                },

                calculate() {
                    // Precision Corner Logic: (Crosses * Base Conv Rate) + (Defensive Block Feedback)
                    const hCornerExp = (this.homeCrosses * 0.28) + (this.awayBlocks * 0.15);
                    const aCornerExp = (this.awayCrosses * 0.26) + (this.homeBlocks * 0.18);
                    
                    // Environmental adjustments
                    let totalRaw = (hCornerExp + aCornerExp) * this.weather * this.morale * this.injury;
                    
                    // FH Calculations (Statistically 44% of match corners happen in 1H)
                    const fhHome = hCornerExp * 0.44 * this.morale;
                    const fhAway = aCornerExp * 0.44;
                    const fhTotal = (fhHome + fhAway).toFixed(1);

                    // Over 2.5 and BTTS logic based on "Attacking Intent" (Crosses + Blocks)
                    const attackIndex = (parseFloat(this.homeCrosses) + parseFloat(this.awayCrosses)) * this.morale;
                    const overProb = Math.min(94, (attackIndex * 1.8) + (this.weather == 1 ? 5 : -10)).toFixed(0);
                    const bttsProb = Math.min(88, (attackIndex * 1.5) + (this.morale > 1 ? 10 : 0)).toFixed(0);

                    this.results = {
                        totalCorners: totalRaw.toFixed(1),
                        fhTotal: fhTotal,
                        fhHandicap: (fhHome - fhAway) > 0.5 ? `Home -${(fhHome-fhAway).toFixed(1)}` : `Away +${Math.abs(fhHome-fhAway).toFixed(1)}`,
                        fh1X2: fhHome > fhAway + 0.3 ? 'HOME (1)' : (fhAway > fhHome + 0.3 ? 'AWAY (2)' : 'DRAW (X)'),
                        over25Prob: overProb,
                        bttsProb: bttsProb
                    };
                }
            }
        }
    </script>
</body>
</html>
